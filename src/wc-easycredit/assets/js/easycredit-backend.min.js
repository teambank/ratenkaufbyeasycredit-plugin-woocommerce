jQuery(function(r){var a,t,i,c,n;"undefined"!=typeof wc_ratenkaufbyeasycredit_config&&(r("#woocommerce_ratenkaufbyeasycredit_api_verify_credentials").click(function(){let t=r(this);t.prop("disabled",!0);var e=r("#woocommerce_ratenkaufbyeasycredit_api_key").val(),a=r("#woocommerce_ratenkaufbyeasycredit_api_token").val(),i=r("#woocommerce_ratenkaufbyeasycredit_api_signature").val();r.getJSON(wc_ratenkaufbyeasycredit_config.url+"?action=wc_ratenkaufbyeasycredit_verify_credentials",{api_key:e,api_token:a,api_signature:i},function(e){t.prop("disabled",!1),alert(e.msg)})}),t=r('input[name$="_src"]'),(i=function(e){e.each(function(e){var t=r(this).val();r(this).siblings(".ec-img").remove(),r('<div class="ec-img"><img src="'+t+'"><a href="#void" class="ec-delete-img">Remove image</a><br><a href="#void" class="btn btn-primary ec-upload-img">Upload Image</a></div>').insertAfter(r(this))})})(t),r(".easycredit-marketing .form-table").on("click",".ec-upload-img",function(e){e.preventDefault();var t=r(this).closest(".form-table").find('input[name$="_src"]');(a=a||(wp.media.frames.file_frame=wp.media({title:"Choose Image",button:{text:"Choose Image"},multiple:!1}))).off("select"),a.on("select",function(){attachment=a.state().get("selection").first().toJSON(),console.log(attachment),t.val(attachment.url),i(t)}),a.open()}),r(".easycredit-marketing .form-table").on("click",".ec-delete-img",function(e){e.preventDefault(),r(this).closest(".form-table").find('input[name$="_src"]').val(""),i(t)}),n=function(){return document.querySelectorAll(".easycredit-marketing__tab-content")},(tabs=(c=function(){return document.querySelectorAll(".easycredit-marketing__tabs .easycredit-marketing__tab")})()).forEach(e=>{r(e).on("click",function(e){var t;target=r(this).attr("data-target"),t=target,tabs=c(),tabContents=n(),tabs.forEach(e=>{r(e).attr("data-target")===t?r(e).addClass("active"):r(e).removeClass("active")}),tabContents.forEach(e=>{r(e).attr("data-tab")===t?r(e).addClass("active"):r(e).removeClass("active")})})}))});
//# sourceMappingURL=easycredit.min.js.map